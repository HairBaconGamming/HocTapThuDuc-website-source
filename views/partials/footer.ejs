<!-- views/partials/footer.ejs -->
    </main> <!-- Close main content -->

    <!-- Loading Overlay -->
    <div id="loading-overlay">
        <div class="spinner-complex">
            <div class="ring-outer"></div>
            <div class="ring-middle"></div>
            <div class="ring-inner"></div>
        </div>
        <div class="loading-text">Đang xử lí...</div>
    </div>

    <!-- Alert container -->
    <div id="alert-container"></div>

    <!-- Custom Confirm Modal -->
    <!-- Ensure the classes match your confirm.js implementation -->
    <div id="customConfirm" class="custom-confirm"> <%# Check class if needed %>
        <div class="confirm-modal-box"> <%# Ensure this wrapper exists if CSS uses it %>
            <p id="customConfirmMessage">Are you sure?</p>
            <div class="confirm-buttons">
                <button id="customConfirmOk" class="btn btn-success">Xác nhận</button> <%# Added btn classes %>
                <button id="customConfirmCancel" class="btn btn-secondary">Hủy bỏ</button> <%# Added btn classes %>
            </div>
        </div>
    </div>

    <!-- Fullscreen Image Modal -->
    <div id="imgFullscreenModal" class="fullscreen-modal" style="display:none;">
        <span id="modalCloseBtn" class="modal-close">×</span>
        <img id="modalImg" class="modal-content" alt="Full screen image">
    </div>
          
    <!-- Đặt ngay sau thẻ <body> -->
    <div id="artistic-cursor" class="artistic-cursor">
      <div class="cursor-core"></div>
      <div class="cursor-glow"></div>
      <!-- Các phần tử hạt sẽ được tạo động bằng JS -->
    </div>

    <!-- === JAVASCRIPT LIBRARIES === -->
    <!-- Load jQuery & Bootstrap Bundle if needed by other parts of your site, NOT required for this header -->
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script> -->

    <!-- Load GSAP & Plugins FIRST -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/split-type"></script> <!-- SplitType Library -->

    <!-- Other Libraries -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

    <!-- === YOUR CUSTOM SCRIPTS === -->
    <script src="/js/customcursor.js"></script>  
    <script src="/js/alerts.js"></script>    <%# For showAlert function %>
    <script src="/js/confirm.js"></script>   <%# For custom confirm modal %>
    <script src="/js/animations.js"></script> <%# Your main animation logic %>
    <!-- Include other global scripts -->

    <!-- Flash Message Handling -->
    <% if (typeof message !== 'undefined' && message.message && message.message.length > 0) { %>
        <script>
          // Ensure DOM is ready before showing alert
          document.addEventListener('DOMContentLoaded', () => {
            // Check if showAlert function exists before calling
            if (typeof showAlert === 'function') {
                showAlert("<%= message.message %>", "<%= message.type %>", 5000); // Increased duration
            } else {
                console.error("showAlert function not found. Cannot display flash message.");
            }
          });
        </script>
      <% } %>

    <!-- Include page-specific scripts from EJS files AFTER global scripts -->
    <%# Example: Script block from subjects.ejs or lessons.ejs would execute here %>

</body>
</html>