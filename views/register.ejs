<%- include('partials/header') %>
<link rel="stylesheet" href="/css/styleLogin.css">

<section class="login-page-section">
    <div class="login-form-container" style="max-width: 500px;">
        <div style="font-size: 3rem; margin-bottom: 10px;">✨</div>
        <h2 class="form-title">Nhập hộ khẩu!</h2>
        <p class="form-subtitle">Trở thành cư dân ưu tú của HTTD ngay hôm nay.</p>

        <% if (locals.message && message.message) { %>
            <div style="background: #ffe0e6; color: #d81b60; padding: 10px; border-radius: 10px; margin-bottom: 20px; font-size: 0.9rem;">
                <%= message.message %>
            </div>
        <% } %>

        <form action="/register" method="POST" id="registerForm">
            <div class="input-field-group">
                <label class="form-label-v2">Tên đăng nhập (Username)</label>
                <input type="text" name="username" class="form-input-v2" placeholder="Đặt tên cho ngầu vào..." required>
                <small style="color: #999; font-size: 0.8rem;">Viết liền không dấu nha</small>
            </div>

            <div class="input-field-group">
                <label class="form-label-v2">Mật khẩu</label>
                <input type="password" name="password" class="form-input-v2" placeholder="Bí mật đừng nói ai nghe..." required>
            </div>

            <div class="input-field-group">
                <label class="form-label-v2">Trường THPT</label>
                <select name="school" class="form-select-v2">
                    <option value="" disabled selected>-- Chọn trường của bạn --</option>
                    <option value="THPT Thủ Đức">THPT Thủ Đức</option>
                    <option value="THPT Nguyễn Hữu Huân">THPT Nguyễn Hữu Huân</option>
                    <option value="THPT Tam Phú">THPT Tam Phú</option>
                    <option value="Khác">Trường khác...</option>
                </select>
            </div>

            <div class="cf-turnstile" data-sitekey="<%= process.env.TURNSTILE_SITE_KEY %>" data-theme="light" style="margin: 20px 0;"></div>

            <button type="submit" class="btn-submit-v2" style="background: var(--accent); color: #333;">✨ Đăng ký ngay</button>
        </form>

        <div class="switch-auth-link">
            Đã là cư dân rồi? <a href="/login">Về nhà (Đăng nhập)</a>
        </div>
    </div>
</section>

<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
<%- include('partials/footer') %>