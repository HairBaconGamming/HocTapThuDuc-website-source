<%- include('partials/header') %>
<link rel="stylesheet" href="/css/styleLiveList.css">

<div class="container">
    
    <div class="live-hero">
        <span class="live-badge-large">LIVE ‚Ä¢ ƒêANG PH√ÅT</span>
        <h1 style="font-size: 2.5rem; margin: 10px 0;">S√≥ng H·ªçc T·∫≠p üì°</h1>
        <p style="color: #666; max-width: 600px; margin: 0 auto;">
            Tham gia c√°c l·ªõp h·ªçc tr·ª±c tuy·∫øn, giao l∆∞u c√πng b·∫°n b√® v√† th·∫ßy c√¥ ngay b√¢y gi·ªù!
        </p>

        <div style="margin-top: 30px;">
            <% if (user) { %>
                <a href="/live/create" class="btn btn-primary" style="box-shadow: 4px 4px 0px var(--dark-ink);">
                    <i class="fas fa-video"></i> M·ªü ph√≤ng Live m·ªõi
                </a>
            <% } else { %>
                <a href="/login" class="btn btn-primary">ƒêƒÉng nh·∫≠p ƒë·ªÉ Live</a>
            <% } %>
        </div>
    </div>

    <div class="live-grid">
        <% if (rooms && rooms.length > 0) { %>
            <% rooms.forEach(room => { %>
                <div class="live-card">
                    <div class="live-thumb-wrapper">
                        <img src="https://cdn.dribbble.com/users/1770290/screenshots/6168342/bg_4x.jpg" class="live-thumb-img">
                        <span class="status-live">TR·ª∞C TI·∫æP</span>
                        <div class="viewer-count">
                            <i class="fas fa-user"></i> <span><%= room.viewers || 0 %></span>
                        </div>
                    </div>
                    
                    <div class="live-info">
                        <div class="live-host-row">
                            <img src="<%= room.host && room.host.avatar ? room.host.avatar : 'https://cdn-icons-png.flaticon.com/512/847/847969.png' %>" class="host-avatar">
                            <span class="host-name"><%= room.host ? room.host.username : '·∫®n danh' %></span>
                        </div>
                        <h3 class="live-title"><%= room.roomName %></h3>
                        <a href="/live/joinLive/<%= room.roomId %>" class="btn-join">Tham gia ngay &rarr;</a>
                    </div>
                </div>
            <% }) %>
        <% } else { %>
            <div style="grid-column: 1/-1; text-align: center; padding: 50px; color: #999;">
                <i class="fas fa-satellite-dish" style="font-size: 4rem; margin-bottom: 20px; color: #ddd;"></i>
                <h3>Hi·ªán kh√¥ng c√≥ ai ƒëang live c·∫£.</h3>
                <p>B·∫°n h√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n l√™n s√≥ng ƒëi!</p>
            </div>
        <% } %>
    </div>

</div>

<%- include('partials/footer') %>