<%- include('partials/header') %>
<link rel="stylesheet" href="/css/styleProfile.css">

<div class="profile-wrapper">
    
    <div class="profile-grid">
        
        <aside class="bento-card identity-card">
            <div class="id-avatar-wrapper">
                <img src="<%= targetUser.avatar || 'https://cdn-icons-png.flaticon.com/512/847/847969.png' %>" class="id-avatar">
                <% if(targetUser.isPro) { %>
                    <div class="pro-badge" title="T√†i kho·∫£n VIP">üëë</div>
                <% } %>
            </div>

            <h1 class="id-name"><%= targetUser.username %></h1>
            <p class="id-username">@<%= targetUser.username.toLowerCase().replace(/\s+/g, '') %></p>

            <div class="id-meta">
                <span class="meta-tag"><i class="fas fa-graduation-cap"></i> <%= targetUser.class || 'L·ªõp ?' %></span>
                <span class="meta-tag"><i class="fas fa-school"></i> <%= targetUser.school || 'Tr∆∞·ªùng ?' %></span>
            </div>

            <div class="id-bio">
                "<%= targetUser.bio || 'Ng∆∞·ªùi d√πng n√†y r·∫•t b√≠ ·∫©n...' %>"
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <button class="btn-edit-profile" style="background: var(--pop-blue); color: var(--dark-ink);">
                    <i class="fas fa-user-plus"></i> K·∫øt b·∫°n
                </button>
                <button class="btn-edit-profile" style="background: white; color: var(--dark-ink); border: 2px solid var(--dark-ink);">
                    <i class="fas fa-comment-dots"></i> Nh·∫Øn tin
                </button>
            </div>
            
            <button class="btn-edit-profile" style="margin-top: 10px; background: #ffebee; color: #c62828; border: none;">
                <i class="fas fa-flag"></i> B√°o c√°o
            </button>
        </aside>

        <main>
            <div class="stats-row">
                <div class="stat-box highlight">
                    <h3><%= targetUser.points || 0 %></h3>
                    <p>üî• ƒêi·ªÉm s·ªë</p>
                </div>
                <div class="stat-box">
                    <h3>??</h3>
                    <p>üìö B√†i h·ªçc</p>
                </div>
                <div class="stat-box">
                    <h3>??</h3>
                    <p>üèÜ Rank</p>
                </div>
            </div>

            <div class="bento-card tree-section">
                <div class="tree-info">
                    <h3>üå≥ V∆∞·ªùn C·ªßa <%= targetUser.username %></h3>
                    <p style="color: #666;">M·ªôt c√°i c√¢y xanh t·ªët ch·ª©ng t·ªè s·ª± chƒÉm ch·ªâ.</p>
                </div>
                <div class="tree-visual">
                    <img src="https://cdn-icons-png.flaticon.com/512/2924/2924900.png" alt="Tree"> 
                </div>
            </div>

            <div class="bento-card" style="background: #fff0f5; border-color: #ffc8dd; text-align: center;">
                <h3 style="color: #d81b60;">ü•ä Th√°ch ƒê·∫•u PK</h3>
                <p style="color: #666; margin-bottom: 20px;">M·ªùi <%= targetUser.username %> v√†o ph√≤ng thi tr·∫Øc nghi·ªám ƒë·ªëi kh√°ng?</p>
                <button class="btn-edit-profile" style="background: #d81b60; width: auto; display: inline-block; padding: 10px 30px;">
                    G·ª≠i l·ªùi m·ªùi
                </button>
            </div>

        </main>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
    if(typeof gsap !== 'undefined') {
        gsap.from('.profile-grid > *', { y: 30, opacity: 0, duration: 0.8, stagger: 0.2, ease: 'power2.out' });
    }
</script>

<%- include('partials/footer') %>